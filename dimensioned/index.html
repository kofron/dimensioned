<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `dimensioned` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, dimensioned">

    <title>dimensioned - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    <link rel="shortcut icon" href="https://raw.githubusercontent.com/paholg/dimensioned/master/favicon.png">
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <a href='../dimensioned/index.html'><img src='https://raw.githubusercontent.com/paholg/dimensioned/master/favicon.png' alt='logo' width='100'></a>
        <p class='location'></p><script>window.sidebarCurrent = {name: 'dimensioned', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>dimensioned</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../src/dimensioned/lib.rs.html#1-178' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Compile-time dimensional analysis for various unit systems using Rust&#39;s type system.</p>

<p>Its goal is to provide zero cost unit safety while requiring minimal effort from the programmer.</p>

<p>For a short introduction and some examples, check out the <a href="https://github.com/paholg/dimensioned">readme on
GitHub</a>.</p>

<h1 id='use' class='section-header'><a href='#use'>Use</a></h1>
<p>The recommended way to import this crate is with the rename</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>dimensioned</span> <span class='kw'>as</span> <span class='ident'>dim</span>;</pre>

<p>and then either import the module for the unit system you will be using,</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>dim</span>::<span class='ident'>si</span>;
<span class='kw'>let</span> <span class='ident'>x</span> <span class='op'>=</span> <span class='number'>3.0</span> <span class='op'>*</span> <span class='ident'>si</span>::<span class='ident'>M</span>;</pre>

<p>or import the constants and/or types that you care about,</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>use</span> <span class='ident'>dim</span>::<span class='ident'>si</span>::{<span class='ident'>Meter</span>, <span class='ident'>M</span>, <span class='ident'>S</span>};
<span class='kw'>let</span> <span class='ident'>x</span>: <span class='ident'>Meter</span><span class='op'>&lt;</span><span class='ident'>f64</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='number'>3.0</span> <span class='op'>*</span> <span class='ident'>M</span>;
<span class='kw'>let</span> <span class='ident'>t</span> <span class='op'>=</span> <span class='number'>2.0</span> <span class='op'>*</span> <span class='ident'>S</span>;</pre>

<p>For clarity, all the examples contained herein will import unit system modules.</p>

<h1 id='how-it-works' class='section-header'><a href='#how-it-works'>How it works</a></h1>
<p>When a unit system is created, say the SI system, a struct with two parameters is made; in this
case <code>SI&lt;V, U&gt;</code>. The first parameter, <code>V</code>, is for the value type -- it can be anything, and is the
value to which we are giving units. The second parameter, <code>U</code>, is where the magic happens. It
represents the units, and is a type-level array of type-level numbers. Now, these guys have some
pretty ugly type signatures, so I will express the array as the macro which maps to it, <code>tarr![]</code>,
and the type numbers as their aliases; <code>N1</code> for -1, <code>Z0</code> for 0, <code>P1</code> for 1, etc.</p>

<p>The SI system has seven base units, so that&#39;s how many elements the type array needs to have. The
order is the order in which the base units were defined, and the values of the type numbers are the
power to which each unit is raised. For example, the first three SI units, in order, are <code>Meter</code>,
<code>Kilogram</code>, <code>Second</code>, so the following aliases exist:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>type</span> <span class='ident'>Meter</span><span class='op'>&lt;</span><span class='ident'>V</span><span class='op'>&gt;</span>    <span class='op'>=</span> <span class='ident'>SI</span><span class='op'>&lt;</span><span class='ident'>V</span>, <span class='macro'>tarr</span><span class='macro'>!</span>[<span class='ident'>P1</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>]<span class='op'>&gt;</span>;
<span class='kw'>type</span> <span class='ident'>Kilogram</span><span class='op'>&lt;</span><span class='ident'>V</span><span class='op'>&gt;</span> <span class='op'>=</span> <span class='ident'>SI</span><span class='op'>&lt;</span><span class='ident'>V</span>, <span class='macro'>tarr</span><span class='macro'>!</span>[<span class='ident'>Z0</span>, <span class='ident'>P1</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>]<span class='op'>&gt;</span>;
<span class='kw'>type</span> <span class='ident'>Second</span><span class='op'>&lt;</span><span class='ident'>V</span><span class='op'>&gt;</span>   <span class='op'>=</span> <span class='ident'>SI</span><span class='op'>&lt;</span><span class='ident'>V</span>, <span class='macro'>tarr</span><span class='macro'>!</span>[<span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>P1</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>]<span class='op'>&gt;</span>;
<span class='kw'>type</span> <span class='ident'>Newton</span><span class='op'>&lt;</span><span class='ident'>V</span><span class='op'>&gt;</span>   <span class='op'>=</span> <span class='ident'>SI</span><span class='op'>&lt;</span><span class='ident'>V</span>, <span class='macro'>tarr</span><span class='macro'>!</span>[<span class='ident'>P1</span>, <span class='ident'>P1</span>, <span class='ident'>N2</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>, <span class='ident'>Z0</span>]<span class='op'>&gt;</span>;
...</pre>

<p>In addition to creating the unit system struct, <code>SI</code>, the type aliases, and constants for each,
various traits are implemented for the unit system. These include arithmetic operations, which work
as follows.</p>

<p>If you try to add a <code>Meter&lt;f64&gt;</code> to a <code>Second&lt;f64&gt;</code>, then you will get a compiler error because
they have different types and so addition is not defined. Multiplication, on the other hand, is
defined, and results in a normal multiplication of the value types, and the unit powers added.</p>

<p>So, multiplying <code>Meter&lt;f64&gt;</code> by <code>Second&lt;f64&gt;</code> gives <code>SI&lt;f64, tarr![P1, Z0, P1, Z0, Z0, Z0, Z0]&gt;</code>.</p>

<h2 id='example' class='section-header'><a href='#example'>Example</a></h2>
<pre class='rust rust-example-rendered'>
<span class='kw'>extern</span> <span class='kw'>crate</span> <span class='ident'>dimensioned</span> <span class='kw'>as</span> <span class='ident'>dim</span>;

<span class='kw'>use</span> <span class='ident'>dim</span>::<span class='ident'>si</span>;

<span class='kw'>fn</span> <span class='ident'>main</span>() {
    <span class='kw'>let</span> <span class='ident'>x</span> <span class='op'>=</span> <span class='number'>3.0</span> <span class='op'>*</span> <span class='ident'>si</span>::<span class='ident'>M</span>;
    <span class='kw'>let</span> <span class='ident'>t</span> <span class='op'>=</span> <span class='number'>2.0</span> <span class='op'>*</span> <span class='ident'>si</span>::<span class='ident'>S</span>;
    <span class='macro'>assert_eq</span><span class='macro'>!</span>(<span class='string'>&quot;6 m*s&quot;</span>, <span class='kw-2'>&amp;</span><span class='macro'>format</span><span class='macro'>!</span>(<span class='string'>&quot;{}&quot;</span>, <span class='ident'>x</span><span class='kw-2'>*</span><span class='ident'>t</span>));
}</pre>

<p>That&#39;s basically it. All of the dimensional safety comes from whether things typecheck, and from
performing type-level arithmetic, thanks to the <a href="http://paholg.com/typenum/">typenum</a>
crate. Pretty much everything else is for ergonomics.</p>
</div><h2 id='reexports' class='section-header'><a href="#reexports">Reexports</a></h2>
<table><tr><td><code>pub extern crate <a class='mod' href='../typenum/index.html' title='typenum'>typenum</a>;</code></td></tr><tr><td><code>pub extern crate <a class='mod' href='../generic_array/index.html' title='generic_array'>generic_array</a>;</code></td></tr><tr><td><code>pub use <a class='mod' href='../dimensioned/traits/index.html' title='dimensioned::traits'>traits</a>::*;</code></td></tr><tr><td><code>pub use unit_systems::<a class='mod' href='../dimensioned/unit_systems/si/index.html' title='dimensioned::unit_systems::si'>si</a>;</code></td></tr><tr><td><code>pub use unit_systems::<a class='mod' href='../dimensioned/unit_systems/ucum/index.html' title='dimensioned::unit_systems::ucum'>ucum</a>;</code></td></tr><tr><td><code>pub use unit_systems::<a class='mod' href='../dimensioned/unit_systems/cgs/index.html' title='dimensioned::unit_systems::cgs'>cgs</a>;</code></td></tr><tr><td><code>pub use unit_systems::<a class='mod' href='../dimensioned/unit_systems/mks/index.html' title='dimensioned::unit_systems::mks'>mks</a>;</code></td></tr><tr><td><code>pub use unit_systems::<a class='mod' href='../dimensioned/unit_systems/fps/index.html' title='dimensioned::unit_systems::fps'>fps</a>;</code></td></tr></table><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='mod' href='array/index.html'
                                  title='dimensioned::array'>array</a></td>
                           <td class='docblock-short'>
                                <p>Tools for converting from type arrays of type numbers to generic arrays.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='conversion/index.html'
                                  title='dimensioned::conversion'>conversion</a></td>
                           <td class='docblock-short'>
                                <p>Conversion between unit systems</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='dimensions/index.html'
                                  title='dimensioned::dimensions'>dimensions</a></td>
                           <td class='docblock-short'>
                                <p>Marker traits for various dimensions</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='f32prefixes/index.html'
                                  title='dimensioned::f32prefixes'>f32prefixes</a></td>
                           <td class='docblock-short'>
                                <p>Constants for all SI prefixes as <code>f32</code>s</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='f64prefixes/index.html'
                                  title='dimensioned::f64prefixes'>f64prefixes</a></td>
                           <td class='docblock-short'>
                                <p>Constants for all SI prefixes as <code>f64</code>s</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='traits/index.html'
                                  title='dimensioned::traits'>traits</a></td>
                           <td class='docblock-short'>
                                <p>Traits for working generically with dimensioned</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='unit_systems/index.html'
                                  title='dimensioned::unit_systems'>unit_systems</a></td>
                           <td class='docblock-short'>
                                <p>Predefined unit systems</p>
                           </td>
                       </tr></table><h2 id='macros' class='section-header'><a href="#macros">Macros</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='macro' href='macro.derived.html'
                                  title='dimensioned::derived'>derived</a></td>
                           <td class='docblock-short'>
                                <p>Create a derived unit based on existing ones</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='macro' href='macro.make_units.html'
                                  title='dimensioned::make_units'>make_units</a></td>
                           <td class='docblock-short'>
                                <p>Create a new unit system</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='macro' href='macro.tarr.html'
                                  title='dimensioned::tarr'>tarr</a></td>
                           <td class='docblock-short'>
                                <p>Construct a type-level array of type-level integers</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "dimensioned";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>